<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>How to Get the Length of a File in C | Laba Gossip</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="How to Get the Length of a File in C. We can use the fseek() and ftell() functions from the standard library. Here is an example code that demonstrates how to get the length of a file:
FILE *file = fopen(&#34;example.txt&#34;, &#34;r&#34;); if (file == NULL) { printf(&#34;Error opening file.\n&#34;); return 1; } fseek(file, 0, SEEK_END); long size = ftell(file); fseek(file, 0, SEEK_SET); printf(&#34;File size is %ld bytes.\n&#34;, size); fclose(file); FILE *file = fopen(&#34;example."><meta name=generator content="Hugo 0.115.3"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><meta property="og:title" content="How to Get the Length of a File in C"><meta property="og:description" content="How to Get the Length of a File in C. We can use the fseek() and ftell() functions from the standard library. Here is an example code that demonstrates how to get the length of a file:
FILE *file = fopen(&#34;example.txt&#34;, &#34;r&#34;); if (file == NULL) { printf(&#34;Error opening file.\n&#34;); return 1; } fseek(file, 0, SEEK_END); long size = ftell(file); fseek(file, 0, SEEK_SET); printf(&#34;File size is %ld bytes.\n&#34;, size); fclose(file); FILE *file = fopen(&#34;example."><meta property="og:type" content="article"><meta property="og:url" content="https://practicegithub2016.github.io/posts/20230304/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-04T00:00:00+08:00"><meta property="article:modified_time" content="2023-03-04T00:00:00+08:00"><meta itemprop=name content="How to Get the Length of a File in C"><meta itemprop=description content="How to Get the Length of a File in C. We can use the fseek() and ftell() functions from the standard library. Here is an example code that demonstrates how to get the length of a file:
FILE *file = fopen(&#34;example.txt&#34;, &#34;r&#34;); if (file == NULL) { printf(&#34;Error opening file.\n&#34;); return 1; } fseek(file, 0, SEEK_END); long size = ftell(file); fseek(file, 0, SEEK_SET); printf(&#34;File size is %ld bytes.\n&#34;, size); fclose(file); FILE *file = fopen(&#34;example."><meta itemprop=datePublished content="2023-03-04T00:00:00+08:00"><meta itemprop=dateModified content="2023-03-04T00:00:00+08:00"><meta itemprop=wordCount content="344"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Get the Length of a File in C"><meta name=twitter:description content="How to Get the Length of a File in C. We can use the fseek() and ftell() functions from the standard library. Here is an example code that demonstrates how to get the length of a file:
FILE *file = fopen(&#34;example.txt&#34;, &#34;r&#34;); if (file == NULL) { printf(&#34;Error opening file.\n&#34;); return 1; } fseek(file, 0, SEEK_END); long size = ftell(file); fseek(file, 0, SEEK_SET); printf(&#34;File size is %ld bytes.\n&#34;, size); fclose(file); FILE *file = fopen(&#34;example."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Laba Gossip</a><div class="flex-l items-center"><div class=ananke-socials></div></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class="mt3 ananke-socials"></div><h1 class="f1 athelas mt3 mb1">How to Get the Length of a File in C</h1><time class="f6 mv4 dib tracked" datetime=2023-03-04T00:00:00+08:00>March 4, 2023</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h1 id=how-to-get-the-length-of-a-file-in-c>How to Get the Length of a File in C.</h1><p>We can use the fseek() and ftell() functions from the standard library. Here is an example code that demonstrates how to get the length of a file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span> FILE <span style=color:#f92672>*</span>file <span style=color:#f92672>=</span> <span style=color:#a6e22e>fopen</span>(<span style=color:#e6db74>&#34;example.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>);
</span></span><span style=display:flex><span> <span style=color:#66d9ef>if</span> (file <span style=color:#f92672>==</span> NULL) {
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error opening file.</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>     <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>fseek</span>(file, <span style=color:#ae81ff>0</span>, SEEK_END);
</span></span><span style=display:flex><span> <span style=color:#66d9ef>long</span> size <span style=color:#f92672>=</span> <span style=color:#a6e22e>ftell</span>(file);
</span></span><span style=display:flex><span> <span style=color:#a6e22e>fseek</span>(file, <span style=color:#ae81ff>0</span>, SEEK_SET);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;File size is %ld bytes.</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, size);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#a6e22e>fclose</span>(file);
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span>FILE <span style=color:#f92672>*</span>file <span style=color:#f92672>=</span> <span style=color:#a6e22e>fopen</span>(<span style=color:#e6db74>&#34;example.txt&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (file <span style=color:#f92672>==</span> NULL) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Error opening file.</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This code opens a file called &ldquo;example.txt&rdquo; in read mode and assigns the resulting FILE pointer to the variable file. If the file fails to open for some reason (e.g. if it doesn&rsquo;t exist), fopen() returns NULL. The if statement checks whether file is NULL and, if it is, prints an error message to the console and exits the program with an error code of 1.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span><span style=color:#a6e22e>fseek</span>(file, <span style=color:#ae81ff>0</span>, SEEK_END);
</span></span><span style=display:flex><span><span style=color:#66d9ef>long</span> size <span style=color:#f92672>=</span> <span style=color:#a6e22e>ftell</span>(file);
</span></span><span style=display:flex><span><span style=color:#a6e22e>fseek</span>(file, <span style=color:#ae81ff>0</span>, SEEK_SET);
</span></span></code></pre></div><p>These three lines of code use the fseek() and ftell() functions to determine the size of the file. The fseek() function moves the file pointer to the end of the file, which is accomplished by passing the arguments file, 0, and SEEK_END. The ftell() function then returns the position of the file pointer, which corresponds to the size of the file. The position of the file pointer is stored in the variable size.</p><p>After determining the size of the file, the file pointer is moved back to the beginning of the file using another call to fseek(). This time, the fseek() function is called with the arguments file, 0, and SEEK_SET.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span><span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;File size is %ld bytes.</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, size);
</span></span><span style=display:flex><span><span style=color:#a6e22e>fclose</span>(file);
</span></span></code></pre></div><p>Finally, the code prints the size of the file to the console using the printf() function. The &ldquo;%ld&rdquo; specifier is used to indicate that a long integer value should be printed, and the value of size is inserted into the string using the % syntax. Finally, the file is closed using the fclose() function to free up any resources associated with the open file.</p><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://practicegithub2016.github.io/>&copy; Laba Gossip 2023</a><div><div class=ananke-socials></div></div></div></footer></body></html>